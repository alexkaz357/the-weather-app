(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{84:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/loader.5e01ee79.gif"},86:function(e,t,c){},87:function(e,t,c){"use strict";c.r(t);var r=c(0),n=c(19),a=c.n(n),s=c(6),i=c(18),o=c(22),u=c(3),l=c(54),d=c(105),f=c(106),j=c(5),h=c.n(j),b=c(14),m=c(9),p=c(27),O=c.n(p),v="FlOJUbbCEJZEONxsV2wo2Qp0dUoV1Uy6",x=function(e){return e.data},N={loadWeather:function(e){return y.apply(this,arguments)},getWeather:w,getCurrentWeather:C,getAutoCompleteSearch:function(e){return R.apply(this,arguments)},loadFavoriteCities:function(){var e=_("favorite-cities");e||(e=[]);return e},addOrRemoveFavoriteCity:function(e){var t=_("favorite-cities");if(t&&t.some((function(t){return t.cityName===e.cityName}))){var c=t.findIndex((function(t){return t.cityName===e.cityName}));return t.splice(c,1),M("favorite-cities",t),t}t||(t=[]);t.push(e);var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cityName";return e.sort((function(e,c){return e[t]<c[t]?-1:e[t]<c[t]?1:0}))}(t);return M("favorite-cities",r),r},loadTemeratureUnits:function(){var e=_("units");e||(e={isC:!0});return e},changeTemperatureUnits:function(){var e=_("units");e||(e={isC:!0});var t={isC:!e.isC};return M("units",t),t},loadDefaultLocation:function(){return{id:S(),cityName:"Tel Aviv"}},addIdToSelectedCity:function(e){return{id:S(),cityName:e}},getCurrentWeaterForFavoriteCities:function(){return W.apply(this,arguments)},loadModePrefs:function(){var e=_("isDarkMode");e||(e=!1);return e},changeMode:function(){var e=_("isDarkMode");e||(e=!1);var t=!e;return M("isDarkMode",t),t}};function y(){return(y=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(t);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log("Something Went Wrong With The Folowing ",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function w(e){return g.apply(this,arguments)}function g(){return(g=Object(b.a)(h.a.mark((function e(t){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(t);case 3:return c=e.sent,e.abrupt("return",O.a.get("https://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(c[0].Key,"?apikey=").concat(v,"&metric=true")).then(x));case 7:e.prev=7,e.t0=e.catch(0),console.log("Something Went Wrong With The Folowing ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function C(e){return k.apply(this,arguments)}function k(){return(k=Object(b.a)(h.a.mark((function e(t){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E(t);case 3:return c=e.sent,e.abrupt("return",O.a.get("https://dataservice.accuweather.com/currentconditions/v1/".concat(c[0].Key,"?apikey=").concat(v)).then(x));case 7:e.prev=7,e.t0=e.catch(0),console.log("Something Went Wrong With The Folowing ",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function E(e){return T.apply(this,arguments)}function T(){return(T=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("https://dataservice.accuweather.com/locations/v1/cities/search?apikey=".concat(v,"&q=").concat(t)).then(x);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log("Something Went Wrong With The Folowing ",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function R(){return(R=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get("https://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat(v,"&q=").concat(t)).then(x);case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log("Something Went Wrong With The Folowing ",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function W(){return(W=Object(b.a)(h.a.mark((function e(){var t,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=_("favorite-cities")){e.next=4;break}return e.abrupt("return",[]);case 4:return e.next=6,Promise.all(t.map(function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=m.a,e.t1=Object(m.a)({},t),e.t2={},e.next=5,C(t.cityName);case 5:return e.t3=e.sent[0],e.t4={currentWeather:e.t3},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t4));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 6:return c=e.sent,e.abrupt("return",c);case 10:e.prev=10,e.t0=e.catch(0),console.log("Something Went Wrong With The Folowing ",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function S(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=c.charAt(Math.floor(Math.random()*c.length));return t}function M(e,t){localStorage.setItem(e,JSON.stringify(t))}function _(e){var t=localStorage.getItem(e);return JSON.parse(t)}function D(e){return function(t){t({type:"SELECT_CITY",cityWithId:e.id?e:N.addIdToSelectedCity(e)})}}var I=c(1);function F(){var e=Object(u.c)((function(e){return e.weatherReducer.isDarkMode})),t=Object(u.b)(),c=Object(l.a)({overrides:{MuiSwitch:{track:{opacity:.5,backgroundColor:"#000","$checked$checked + &":{opacity:.5,backgroundColor:"#fff"}}}}});return Object(I.jsx)("section",{children:Object(I.jsx)("div",{className:"mode",children:Object(I.jsxs)("div",{className:"mode-switch",children:[Object(I.jsx)("p",{className:"mode-icon ".concat(e?"":"color"),children:Object(I.jsx)("i",{className:"fas fa-sun"})}),Object(I.jsx)(d.a,{theme:c,children:Object(I.jsx)(f.a,{checked:e,onChange:function(){t(function(){var e=N.changeMode();return function(t){t({type:"CHANGE_MODE",mode:e})}}())},color:"default",name:"isDarkMode"})}),Object(I.jsx)("p",{className:"mode-icon ".concat(e?"color":""),children:Object(I.jsx)("i",{className:"fas fa-moon"})})]})})})}function A(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),c=t[0],n=t[1],a=Object(u.c)((function(e){return e.weatherReducer.isDarkMode}));function s(){document.body.classList.toggle("menu-open"),n(!c)}return Object(I.jsxs)("section",{className:"nav-bar flex space-between container ".concat(a?"dark-mode":""),children:[Object(I.jsx)("div",{className:"screen",onClick:s}),Object(I.jsx)(i.b,{to:"/",children:Object(I.jsx)("h1",{className:"logo",children:"TheWeatherApp"})}),Object(I.jsx)(F,{}),Object(I.jsxs)("div",{className:"links flex align-center ".concat(c?"":"closed"),children:[Object(I.jsx)("p",{className:"close-btn ".concat(a?"dark-mode":""),onClick:s,children:Object(I.jsx)("i",{className:"fas fa-times"})}),Object(I.jsx)(i.b,{to:"/",onClick:s,children:Object(I.jsx)("p",{className:"weather-link",children:"WEATHER"})}),Object(I.jsx)(i.b,{to:"/favorites",onClick:s,children:Object(I.jsx)("p",{className:"favorites-link",children:"FAVORITES"})})]}),Object(I.jsx)("p",{className:"menu-btn",onClick:s,children:Object(I.jsx)("i",{className:"fas fa-bars menu-btn-icon ".concat(a?"dark-mode":"")})})]})}function U(){return Object(I.jsx)("section",{className:"loader",children:Object(I.jsx)("img",{src:c(84).default,alt:""})})}function H(e){var t=e.favoriteCity,c=Object(u.c)((function(e){return e.weatherReducer.temperatureUnits.isC})),r=Object(u.c)((function(e){return e.weatherReducer.isDarkMode})),n=Object(u.b)(),a=Object(s.f)();return Object(I.jsx)("section",{className:"favorites-preview ".concat(r?"dark-mode":""),onClick:function(){return function(e){n(D(e)),a.push("/")}(t.cityName)},children:t.currentWeather?Object(I.jsxs)("div",{className:"content flex column space-between",children:[Object(I.jsx)("h3",{className:"favorite-city-name",children:t.cityName}),Object(I.jsx)("p",{className:"favorite-city-description",children:t.currentWeather.WeatherText}),Object(I.jsxs)("p",{className:"favorite-city-temperature",children:[c?t.currentWeather.Temperature.Metric.Value:t.currentWeather.Temperature.Imperial.Value,"\xb0",c?t.currentWeather.Temperature.Metric.Unit:t.currentWeather.Temperature.Imperial.Unit]})]}):Object(I.jsx)(U,{})})}function V(e){var t=e.favoriteCities;return Object(I.jsx)("section",{className:"favorites-list flex container",children:t.map((function(e){return Object(I.jsx)(H,{favoriteCity:e},e.id)}))})}function L(){var e=Object(u.c)((function(e){return e.weatherReducer.favoriteCities})),t=Object(u.c)((function(e){return e.weatherReducer.isDarkMode})),c=Object(u.b)();return Object(r.useEffect)((function(){c(function(){var e=Object(b.a)(h.a.mark((function e(t){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.getCurrentWeaterForFavoriteCities();case 2:c=e.sent,t({type:"GET_CURRENT_WEATHER_FOR_FAVORITE_CITIES",favoritesWithCurrentWeather:c});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(I.jsxs)("section",{className:"favorites",children:[t?Object(I.jsxs)("div",{className:"stars-container",children:[Object(I.jsx)("div",{className:"stars"}),Object(I.jsx)("div",{className:"twinkling"})]}):Object(I.jsx)("div",{className:"clouds-container",children:Object(I.jsx)("div",{className:"clouds"})}),e.length?Object(I.jsx)(V,{favoriteCities:e}):Object(I.jsx)("div",{className:"no-favs",children:Object(I.jsx)("h2",{children:"There are no favorites"})})]})}function P(){var e=Object(r.useState)(""),t=Object(o.a)(e,2),c=t[0],n=t[1],a=Object(r.useState)(!0),s=Object(o.a)(a,2),i=s[0],l=s[1],d=Object(u.c)((function(e){return e.weatherReducer.search})),f=Object(u.c)((function(e){return e.weatherReducer.isDarkMode})),j=Object(u.b)(),m=Object(r.useRef)(null);Object(r.useEffect)((function(){var e=setTimeout((function(){var e;j((e=c,function(){var t=Object(b.a)(h.a.mark((function t(c){var r;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.getAutoCompleteSearch(e);case 2:r=t.sent,c({type:"SET_SEARCH",search:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),500);return function(){clearTimeout(e)}}),[c]),Object(r.useEffect)((function(){return document.addEventListener("click",O,!1),function(){document.removeEventListener("click",O,!1)}}),[]);var p=function(){l(!0),n("")},O=function(e){m.current&&!m.current.contains(e.target)&&p()};return Object(I.jsxs)("section",{className:"search ".concat(f?"dark-mode":""," "),children:[Object(I.jsx)("input",{className:"".concat(f?"dark-mode":""," "),type:"text",name:"search",value:c,placeholder:"Find city",autoComplete:"off",onChange:function(e){var t=e.target.value;""!==t?(n(t),l(!1)):""===t&&p()}}),Object(I.jsx)("i",{className:"fas fa-search search-icon ".concat(f?"dark-mode":"")}),!i&&d&&Object(I.jsx)("div",{className:"search-results",ref:m,children:d.map((function(e){return Object(I.jsxs)("p",{onClick:function(){return t=e.LocalizedName,j(D(t)),void p();var t},children:[e.LocalizedName,", ",e.Country.LocalizedName]},e.Key)}))})]})}var G=c(52),J=c.n(G);function Y(e){var t=e.forecast,c=Object(r.useState)((new Date).getHours()),n=Object(o.a)(c,2),a=n[0],s=n[1],i=Object(u.c)((function(e){return e.weatherReducer.temperatureUnits.isC})),l=Object(u.c)((function(e){return e.weatherReducer.isDarkMode})),d=Object(r.useRef)(null);Object(r.useEffect)((function(){return d.current=setInterval((function(){s((new Date).getHours())}),6e4),function(){clearInterval(d.current)}}),[]);var f,j=a>=18||a<6;return Object(I.jsxs)("section",{className:"weather-preview ".concat(l?"dark-mode":""),children:[Object(I.jsx)("img",{src:function(){var e=t["".concat(j?"Night":"Day")].Icon;return e<10&&(e="0"+e),"https://developer.accuweather.com/sites/default/files/".concat(e,"-s.png")}(),alt:""}),Object(I.jsx)("h3",{children:J()(t.Date).format("ddd DD/MM/YY")}),Object(I.jsx)("p",{children:t["".concat(j?"Night":"Day")].IconPhrase}),Object(I.jsxs)("p",{className:"temperature",children:[i?t.Temperature["".concat(j?"Minimum":"Maximum")].Value:(f=t.Temperature["".concat(j?"Minimum":"Maximum")].Value,9*f/5+32).toFixed(1),"\xb0",i?"C":"F"]})]})}function z(e){var t=e.forecasts;return Object(I.jsx)("section",{className:"weather-list flex justify-center",children:t.DailyForecasts.map((function(e,t){return Object(I.jsx)(Y,{forecast:e},t)}))})}function K(e){var t=e.forecasts,c=Object(u.c)((function(e){return e.weatherReducer.selectedCity})),r=Object(u.c)((function(e){return e.weatherReducer.favoriteCities})),n=Object(u.c)((function(e){return e.weatherReducer.temperatureUnits.isC})),a=Object(u.c)((function(e){return e.weatherReducer.isDarkMode})),s=Object(u.b)();return Object(I.jsxs)("section",{className:"weather-details",children:[Object(I.jsx)("p",{className:"title-city ".concat(a?"dark-mode":""),children:c.cityName}),Object(I.jsx)("i",{className:"fas fa-heart heart ".concat(r.some((function(e){return e.cityName===c.cityName}))?"favorite":"")}),Object(I.jsx)("button",{className:"fav-btn ".concat(a?"dark-mode":""),onClick:function(){s(function(e){return function(t){t({type:"ADD_OR_REMOVE_FAVORITE_CITY",favorites:N.addOrRemoveFavoriteCity(e)})}}(c))},children:"".concat(r.some((function(e){return e.cityName===c.cityName}))?"remove from favorites":"add to favorites")}),Object(I.jsx)(z,{forecasts:t}),Object(I.jsxs)("div",{className:"message-show flex space-between ".concat(a?"dark-mode":""),children:[Object(I.jsx)("p",{className:"message",children:t.Headline.Text}),Object(I.jsxs)("p",{className:"show",onClick:function(){s(function(){var e=N.changeTemperatureUnits();return function(t){t({type:"CHANGE_TEMPERATURE_UNITS",units:e})}}())},children:["SHOW IN \xb0",n?"F":"C"]})]})]})}function q(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.weatherReducer.isDarkMode})),c=Object(u.c)((function(e){return e.weatherReducer.selectedCity})),n=Object(u.c)((function(e){return e.weatherReducer.forecasts}));return Object(r.useEffect)((function(){var t;e((t=c.cityName,function(){var e=Object(b.a)(h.a.mark((function e(c){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.loadWeather(t);case 2:r=e.sent,c({type:"SET_WEATHER",weather:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[c]),Object(I.jsxs)("section",{className:"weather-app",children:[t?Object(I.jsxs)("div",{className:"stars-container",children:[Object(I.jsx)("div",{className:"stars"}),Object(I.jsx)("div",{className:"twinkling"})]}):Object(I.jsx)("div",{className:"clouds-container",children:Object(I.jsx)("div",{className:"clouds"})}),Object(I.jsxs)("div",{className:"container",children:[Object(I.jsx)(P,{}),n?Object(I.jsx)(K,{forecasts:n}):Object(I.jsx)(U,{})]})]})}var B=function(){return Object(I.jsxs)("div",{children:[Object(I.jsx)(A,{}),Object(I.jsx)(s.c,{children:Object(I.jsxs)(i.a,{children:[Object(I.jsx)(s.a,{path:"/favorites",component:L}),Object(I.jsx)(s.a,{path:"/",component:q,exact:!0})]})})]})},X=c(20),Q=c(53),Z={forecasts:null,search:null,selectedCity:N.loadDefaultLocation(),favoriteCities:N.loadFavoriteCities(),temperatureUnits:N.loadTemeratureUnits(),isDarkMode:N.loadModePrefs()};var $=Object(X.c)({weatherReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_WEATHER":return Object(m.a)(Object(m.a)({},e),{},{forecasts:t.weather});case"SET_SEARCH":return Object(m.a)(Object(m.a)({},e),{},{search:t.search});case"SELECT_CITY":return Object(m.a)(Object(m.a)({},e),{},{selectedCity:t.cityWithId});case"ADD_OR_REMOVE_FAVORITE_CITY":return Object(m.a)(Object(m.a)({},e),{},{favoriteCities:t.favorites});case"GET_CURRENT_WEATHER_FOR_FAVORITE_CITIES":return Object(m.a)(Object(m.a)({},e),{},{favoriteCities:t.favoritesWithCurrentWeather});case"CHANGE_TEMPERATURE_UNITS":return Object(m.a)(Object(m.a)({},e),{},{temperatureUnits:t.units});case"CHANGE_MODE":return Object(m.a)(Object(m.a)({},e),{},{isDarkMode:t.mode});default:return e}}}),ee=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||X.d,te=Object(X.e)($,ee(Object(X.a)(Q.a))),ce=(c(86),function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,107)).then((function(t){var c=t.getCLS,r=t.getFID,n=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),r(e),n(e),a(e),s(e)}))});a.a.render(Object(I.jsx)(u.a,{store:te,children:Object(I.jsx)(i.a,{children:Object(I.jsx)(B,{})})}),document.getElementById("root")),ce()}},[[87,1,2]]]);
//# sourceMappingURL=main.c0561fed.chunk.js.map